<!DOCTYPE html>
<html lang="ru" data-theme="light">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AutoTrack Журнал поездок</title>
  <link rel="stylesheet" href="css/app.css">
</head>
<body>
  <main class="page">
    <section class="card" id="authCard">
      <div class="card-header">
        <div>
          <h1>AutoTrack Журнал поездок</h1>
          <p id="authStatus">Выполните вход по email</p>
        </div>
        <button type="button" id="themeToggleButton" class="secondary">Сменить тему</button>
      </div>
      <form id="emailAuthForm" class="stack">
        <label class="field">
          <span>Email</span>
          <input type="email" id="emailInput" required>
        </label>
        <label class="field">
          <span>Пароль</span>
          <input type="password" id="passwordInput" required>
        </label>
        <div class="row">
          <button type="submit">Войти</button>
          <button type="button" id="emailRegisterButton" class="secondary">Регистрация</button>
          <button type="button" id="logoutButton" class="secondary hidden">Выйти</button>
        </div>
      </form>
    </section>

    <section class="card hidden" id="managerCard">
      <h2>Назначение ответственного</h2>
      <p id="managerStatus" class="status"></p>
      <label class="field">
        <span>Email ответственного</span>
        <input type="email" id="managerEmailInput" required>
      </label>
      <button type="button" id="saveManagerButton">Сохранить ответственного</button>
    </section>

    <section class="card hidden" id="tripCard">
      <h2>Форма поездки</h2>
      <form id="tripForm" class="stack">
        <label class="field">
          <span>ФИО</span>
          <input type="text" id="driverFullNameInput" required>
        </label>
        <label class="field">
          <span>Дата поездки</span>
          <input type="date" id="tripDateInput" required>
        </label>
        <label class="field">
          <span>Номер машины</span>
          <select id="vehicleNumberInput" required></select>
        </label>
        <label class="field">
          <span>Одометр на начало дня</span>
          <input type="number" id="odometerInput" min="0" step="1" required>
        </label>
        <label class="field">
          <span>Суточный пробег</span>
          <input type="number" id="dailyMileageInput" min="0" step="1" required>
        </label>
        <label class="field">
          <span>Текст поездки</span>
          <textarea id="tripDescriptionInput" rows="4" required></textarea>
        </label>
        <button type="submit">Отправить запись</button>
      </form>
      <p id="tripFormStatus" class="status"></p>
    </section>

    <section class="card hidden" id="journalCard">
      <h2>Журнал поездок</h2>
      <div class="stack">
        <div class="row">
          <label class="field compact">
            <span>Дата от</span>
            <input type="date" id="dateFromInput">
          </label>
          <label class="field compact">
            <span>Дата до</span>
            <input type="date" id="dateToInput">
          </label>
          <label class="field">
            <span>Сортировка</span>
            <select id="sortOrderInput">
              <option value="tripDateDesc">Дата поездки: новые сверху</option>
              <option value="tripDateAsc">Дата поездки: старые сверху</option>
              <option value="createdAtDesc">Дата создания: новые сверху</option>
              <option value="createdAtAsc">Дата создания: старые сверху</option>
              <option value="odometerDesc">Одометр: по убыванию</option>
              <option value="odometerAsc">Одометр: по возрастанию</option>
            </select>
          </label>
        </div>
        <div class="row">
          <button type="button" id="applyFilterButton">Применить</button>
          <button type="button" id="resetFilterButton" class="secondary">Сбросить</button>
          <button type="button" id="exportFilteredButton" class="secondary">Экспорт фильтра</button>
          <button type="button" id="exportAllButton" class="secondary">Скачать все</button>
        </div>
      </div>
      <div class="table-wrap">
        <table>
          <thead>
            <tr>
              <th>ФИО</th>
              <th>Дата поездки</th>
              <th>Номер машины</th>
              <th>Одометр</th>
              <th>Суточный пробег</th>
              <th>Одометр на конец дня</th>
              <th>Текст поездки</th>
              <th>Дата создания</th>
            </tr>
          </thead>
          <tbody id="journalTableBody"></tbody>
        </table>
      </div>
      <p id="journalStatus" class="status"></p>
    </section>
  </main>

  <script type="module" src="js/app.js"></script>
</body>
</html>
